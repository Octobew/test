<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เข้าสู่ระบบ - ระบบเลือกตั้งอิเล็กทรอนิกส์</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="login-page">
    <div class="login-container">
        <!-- Left Side - Image/Info -->
        <div class="login-left">
            <div class="login-overlay">
                <div class="logo-section">
                    <i class="fas fa-vote-yea"></i>
                    <h1>ระบบเลือกตั้งอิเล็กทรอนิกส์</h1>
                    <p>SecureVote Thailand 2024</p>
                </div>
                <div class="features">
                    <div class="feature-item">
                        <i class="fas fa-shield-alt"></i>
                        <span>ความปลอดภัยสูง</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-lock"></i>
                        <span>เข้ารหัสข้อมูล</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-user-check"></i>
                        <span>ยืนยันตัวตน</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Side - Login Form -->
        <div class="login-right">
            <div class="login-form-container">
                <div class="welcome-text">
                    <h2>ยินดีต้อนรับ</h2>
                    <p>กรุณาเข้าสู่ระบบเพื่อดำเนินการต่อ</p>
                </div>

                <!-- Role Tabs -->
                <div class="role-tabs">
                    <button class="role-tab active" data-role="voter">
                        <i class="fas fa-user"></i>
                        ผู้ใช้สิทธิ์เลือกตั้ง
                    </button>
                    <button class="role-tab" data-role="admin">
                        <i class="fas fa-user-shield"></i>
                        ผู้ดูแลระบบ
                    </button>
                </div>

                <!-- Voter Login Form -->
                <form class="login-form" id="voterForm">
                    <div class="form-group">
                        <label for="voterIdCard">
                            <i class="fas fa-id-card"></i>
                            เลขบัตรประชาชน
                        </label>
                        <input 
                            type="text" 
                            id="voterIdCard" 
                            placeholder="กรุณากรอกเลขบัตรประชาชน 13 หลัก"
                            maxlength="13"
                            required
                        >
                    </div>

                    <div class="form-group">
                        <label for="voterPassword">
                            <i class="fas fa-lock"></i>
                            รหัสผ่าน
                        </label>
                        <div class="password-input">
                            <input 
                                type="password" 
                                id="voterPassword" 
                                placeholder="กรุณากรอกรหัสผ่าน"
                                required
                            >
                            <button type="button" class="toggle-password" onclick="togglePassword('voterPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>

                    <div class="form-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="rememberMe">
                            <span>จดจำการเข้าสู่ระบบ</span>
                        </label>
                        <a href="#" class="forgot-link">ลืมรหัสผ่าน?</a>
                    </div>

                    <button type="submit" class="btn-login">
                        <i class="fas fa-sign-in-alt"></i>
                        เข้าสู่ระบบ
                    </button>

                    <div class="quick-actions">
                        <p>หรือ</p>
                        <button type="button" class="btn-secondary" onclick="window.location.href='dashboard.html'">
                            <i class="fas fa-chart-line"></i>
                            ดูผลการเลือกตั้ง
                        </button>
                    </div>

                    <div class="register-link">
                        ยังไม่มีบัญชี? <a href="register.html">ลงทะเบียน</a>
                    </div>
                </form>

                <!-- Admin Login Form (Hidden by default) -->
                <form class="login-form" id="adminForm" style="display: none;">
                    <div class="form-group">
                        <label for="adminUsername">
                            <i class="fas fa-user-shield"></i>
                            ชื่อผู้ใช้
                        </label>
                        <input 
                            type="text" 
                            id="adminUsername" 
                            placeholder="กรุณากรอกชื่อผู้ใช้"
                            required
                        >
                    </div>

                    <div class="form-group">
                        <label for="adminPassword">
                            <i class="fas fa-lock"></i>
                            รหัสผ่าน
                        </label>
                        <div class="password-input">
                            <input 
                                type="password" 
                                id="adminPassword" 
                                placeholder="กรุณากรอกรหัสผ่าน"
                                required
                            >
                            <button type="button" class="toggle-password" onclick="togglePassword('adminPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>

                    <div class="form-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="adminRememberMe">
                            <span>จดจำการเข้าสู่ระบบ</span>
                        </label>
                    </div>

                    <button type="submit" class="btn-login">
                        <i class="fas fa-sign-in-alt"></i>
                        เข้าสู่ระบบผู้ดูแล
                    </button>

                    <div class="admin-info">
                        <i class="fas fa-info-circle"></i>
                        สำหรับเจ้าหน้าที่และผู้ดูแลระบบเท่านั้น
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Role tab switching
        document.querySelectorAll('.role-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active class from all tabs
                document.querySelectorAll('.role-tab').forEach(t => t.classList.remove('active'));
                
                // Add active class to clicked tab
                this.classList.add('active');
                
                // Show/hide forms
                const role = this.dataset.role;
                if (role === 'voter') {
                    document.getElementById('voterForm').style.display = 'block';
                    document.getElementById('adminForm').style.display = 'none';
                } else {
                    document.getElementById('voterForm').style.display = 'none';
                    document.getElementById('adminForm').style.display = 'block';
                }
            });
        });

        // Toggle password visibility
        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const button = input.parentElement.querySelector('.toggle-password i');
            
            if (input.type === 'password') {
                input.type = 'text';
                button.classList.remove('fa-eye');
                button.classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                button.classList.remove('fa-eye-slash');
                button.classList.add('fa-eye');
            }
        }

        // Voter login
        document.getElementById('voterForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const idCard = document.getElementById('voterIdCard').value;
            const password = document.getElementById('voterPassword').value;
            
            // Simple validation
            if (idCard.length !== 13) {
                alert('กรุณากรอกเลขบัตรประชาชน 13 หลัก');
                return;
            }
            
            // Demo login - redirect to voting page
            localStorage.setItem('isLoggedIn', 'true');
            localStorage.setItem('userRole', 'voter');
            localStorage.setItem('userId', idCard);
            
            window.location.href = 'voting.html';
        });

        // Admin login
        document.getElementById('adminForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            
            // Demo login - redirect to party management
            localStorage.setItem('isLoggedIn', 'true');
            localStorage.setItem('userRole', 'admin');
            localStorage.setItem('username', username);
            
            window.location.href = 'party-management.html';
        });

        // ID card formatting
        document.getElementById('voterIdCard').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 13) {
                value = value.slice(0, 13);
            }
            e.target.value = value;
        });
    </script>
</body>
</html>
